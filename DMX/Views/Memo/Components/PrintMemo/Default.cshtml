

@{
    Layout = null;
}

@model DMX.ViewModels.MemoCommentVM;

<div class="modal fade" id="PrintMemo" data-bs-backdrop="static" data-bs-keyboard="false">
    
    <div class="modal-dialog">

        <div class="modal-content">
            <div class="modal-header">

                <h6>Add Comment</h6>
                <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn btn-sm btn-outline-danger">Close</button>
            </div>
            <div class="modal-body">
    
        <div class="row">
            <div class="col-md-3"><image class="logo" style="height:70px;width:70px"></image></div><div class="col-md-6"><h4 class="text-center align-items-center">BOLGATANGA REGIONAL HOSPITAL</h4></div><div class="col-md-3"></div>
      </div>
    <div class="row">
        <div class="col-md-3"></div><div class="col-md-6"><h4 class="text-center">Memorandum</h4></div><div class="col-md-3"></div>
    </div>
    
    <div class="row">
            <div class=" col-xs-3 col-sm-3 col-md-3 col-lg-3"><div class="card border-dark-subtle"><strong>Sender</strong><span>@Model.Sender</span></div></div><div class=" col-xs-3 col-sm-3 col-md-3 col-lg-3"><div class="card border-dark-subtle"><strong>Recipient</strong><span>@Model.Recipient</span></div></div><div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"></div><div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"><div class="card border-dark-subtle"><strong>Date</strong><span>@Model.CreatedDate</span></div></div>
    </div>
  <hr />
        <div class="container mb-1">
            <div class="row">
                
                    <div class="card">
                        <div class="card-body">@Html.Raw(@Model.MemoContent)</div>
                        </div>
                        </div>
                        </div>
                    
                        <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <h6 class="card-title">Comments</h6>
                        <div id="content">
                            <ul class="timeline">
                                @foreach (var comment in Model.Comments.OrderByDescending(c=>c.CreatedDate))
                                {
                                    <li class="event" data-date="@comment.CreatedDate.Value.ToString("dd-MMM-yyyy:hh:MM:tt" )">
                                        <h3>@comment.CreatedBy</h3>
                                    <p>@Html.Raw(@comment.Message)</p>
                                </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

            <div class="modal-footer">
                <form asp-action="PrintMemo"  asp-controller="Memo" method="get" target="_self">
                    <button type="submit" class="dropdown-item-custom"><i style="width:15px; height:15px" class="fa fa-print mr-3"></i>Print</button>

                </form><button id="printButton" type="button" class="dropdown-item-custom  fa-pull-right">Print

                </button>
            </div>
        </div>
    </div>
    </div>
   
  <script type="text/javascript">
    $('#printButton').onclick(function () {
        var printContents = $('#PrintMemo .modal-body').html();
        var originalContents = $('body').html();

        $('body').html(printContents);
        window.print();

     
</script>

